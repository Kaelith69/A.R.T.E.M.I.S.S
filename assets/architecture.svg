<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 500" width="820" height="500">
  <defs>
    <linearGradient id="archBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d0d1a"/>
      <stop offset="100%" style="stop-color:#080814"/>
    </linearGradient>
    <marker id="arrowBlue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2563EB"/>
    </marker>
    <marker id="arrowCyan" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#06B6D4"/>
    </marker>
    <marker id="arrowPurple" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#7C3AED"/>
    </marker>
  </defs>

  <rect width="820" height="500" fill="url(#archBg)" rx="12"/>
  <rect x="0" y="0" width="820" height="4" fill="#7C3AED"/>

  <text x="410" y="30" text-anchor="middle" font-family="'Courier New', monospace"
        font-size="15" font-weight="bold" fill="#e2e8f0">System Architecture â€” A.R.T.E.M.I.S.S.</text>

  <!-- Layer labels -->
  <text x="12" y="78" font-family="monospace" font-size="9" fill="#475569" transform="rotate(-90,12,78)">EXTERNAL</text>
  <text x="12" y="175" font-family="monospace" font-size="9" fill="#475569" transform="rotate(-90,12,175)">CORE BOT</text>
  <text x="12" y="288" font-family="monospace" font-size="9" fill="#475569" transform="rotate(-90,12,288)">ML LAYER</text>
  <text x="12" y="395" font-family="monospace" font-size="9" fill="#475569" transform="rotate(-90,12,395)">STORAGE</text>
  <text x="12" y="465" font-family="monospace" font-size="9" fill="#475569" transform="rotate(-90,12,465)">DASHBOARD</text>

  <!-- â”€â”€ EXTERNAL LAYER â”€â”€ -->
  <!-- Telegram Cloud -->
  <rect x="35" y="55" width="145" height="60" rx="8" fill="#1a1a2e" stroke="#2563EB" stroke-width="1.5"/>
  <text x="107" y="80" text-anchor="middle" font-family="monospace" font-size="11" fill="#93c5fd">â˜ Telegram</text>
  <text x="107" y="97" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#64748b">Bot API (long-poll)</text>

  <!-- Group Chat -->
  <rect x="620" y="55" width="165" height="60" rx="8" fill="#1a1a2e" stroke="#2563EB" stroke-width="1.5"/>
  <text x="702" y="80" text-anchor="middle" font-family="monospace" font-size="11" fill="#93c5fd">ğŸ’¬ Telegram Group</text>
  <text x="702" y="97" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#64748b">photo / video / GIF events</text>

  <!-- Arrow Group â†’ Telegram API -->
  <line x1="620" y1="85" x2="180" y2="85" stroke="#2563EB" stroke-width="1.5"
        marker-end="url(#arrowBlue)" stroke-dasharray="5,3"/>
  <text x="400" y="79" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">update event</text>

  <!-- â”€â”€ CORE BOT LAYER â”€â”€ -->
  <!-- artemis_bot.py -->
  <rect x="250" y="145" width="320" height="80" rx="8" fill="#1e0a3c" stroke="#7C3AED" stroke-width="2"/>
  <text x="410" y="170" text-anchor="middle" font-family="monospace" font-size="12" font-weight="bold" fill="#c4b5fd">artemis_bot.py</text>
  <text x="410" y="188" text-anchor="middle" font-family="monospace" font-size="10" fill="#94a3b8">AsyncIO Event Loop Â· Handler Dispatch</text>
  <text x="410" y="206" text-anchor="middle" font-family="monospace" font-size="10" fill="#94a3b8">Violation Engine Â· Ban Logic Â· Admin Commands</text>

  <!-- Arrow Telegram â†’ Bot -->
  <line x1="180" y1="85" x2="340" y2="145" stroke="#2563EB" stroke-width="1.5"
        marker-end="url(#arrowBlue)"/>
  <text x="240" y="115" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">polling</text>

  <!-- â”€â”€ ML LAYER â”€â”€ -->
  <!-- Image pipeline -->
  <rect x="35" y="280" width="180" height="70" rx="8" fill="#0a1f2e" stroke="#06B6D4" stroke-width="2"/>
  <text x="125" y="305" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#67e8f9">Image Pipeline</text>
  <text x="125" y="323" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#94a3b8">nsfw_detector (pipeline)</text>
  <text x="125" y="339" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">ViT Â· Falconsai Â· HuggingFace</text>

  <!-- Video analyzer -->
  <rect x="320" y="280" width="180" height="70" rx="8" fill="#0a1f2e" stroke="#06B6D4" stroke-width="2"/>
  <text x="410" y="305" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#67e8f9">VideoContentAnalyzer</text>
  <text x="410" y="323" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#94a3b8">6-frame sampler Â· early-stop</text>
  <text x="410" y="339" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">AutoModelForImageClassification</text>

  <!-- GPU/CPU -->
  <rect x="605" y="280" width="180" height="70" rx="8" fill="#0d0d1a" stroke="#7C3AED" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="695" y="305" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#c4b5fd">Compute Backend</text>
  <text x="695" y="323" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#94a3b8">CUDA GPU (preferred)</text>
  <text x="695" y="339" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">CPU fallback Â· auto-detected</text>

  <!-- Arrows Bot â†’ ML -->
  <line x1="320" y1="205" x2="180" y2="280" stroke="#7C3AED" stroke-width="1.5"
        marker-end="url(#arrowPurple)"/>
  <text x="230" y="248" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">photo bytes</text>

  <line x1="410" y1="225" x2="410" y2="280" stroke="#7C3AED" stroke-width="1.5"
        marker-end="url(#arrowPurple)"/>
  <text x="430" y="255" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">video path</text>

  <!-- Arrows ML â†’ Compute -->
  <line x1="500" y1="315" x2="605" y2="315" stroke="#06B6D4" stroke-width="1.2"
        marker-end="url(#arrowCyan)" stroke-dasharray="4,3"/>
  <line x1="215" y1="315" x2="320" y2="315" stroke="#06B6D4" stroke-width="1.2"
        marker-end="url(#arrowCyan)" stroke-dasharray="4,3"/>

  <!-- â”€â”€ STORAGE LAYER â”€â”€ -->
  <!-- SQLite -->
  <rect x="125" y="400" width="165" height="60" rx="8" fill="#1a1a2e" stroke="#2563EB" stroke-width="1.5"/>
  <text x="207" y="425" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#93c5fd">SQLite DB</text>
  <text x="207" y="443" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#64748b">violations Â· actions Â· stats Â· contents</text>

  <!-- File System -->
  <rect x="530" y="400" width="180" height="60" rx="8" fill="#1a1a2e" stroke="#7C3AED" stroke-width="1.5"/>
  <text x="620" y="425" text-anchor="middle" font-family="monospace" font-size="11" font-weight="bold" fill="#c4b5fd">File System</text>
  <text x="620" y="443" text-anchor="middle" font-family="monospace" font-size="9.5" fill="#64748b">flagged_images/ Â· flagged_videos/</text>

  <!-- Arrows Bot â†’ Storage -->
  <line x1="350" y1="225" x2="240" y2="400" stroke="#2563EB" stroke-width="1.5"
        marker-end="url(#arrowBlue)"/>
  <text x="270" y="320" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">read/write</text>

  <line x1="500" y1="215" x2="620" y2="400" stroke="#7C3AED" stroke-width="1.5"
        marker-end="url(#arrowPurple)" stroke-dasharray="4,3"/>
  <text x="585" y="320" text-anchor="middle" font-family="monospace" font-size="9" fill="#64748b">cache flagged</text>

  <!-- â”€â”€ DASHBOARD LAYER â”€â”€ -->
  <!-- dashboard.py -->
  <rect x="250" y="455" width="160" height="36" rx="7" fill="#0a1f2e" stroke="#06B6D4" stroke-width="1.5"/>
  <text x="330" y="469" text-anchor="middle" font-family="monospace" font-size="10.5" font-weight="bold" fill="#67e8f9">dashboard.py</text>
  <text x="330" y="484" text-anchor="middle" font-family="monospace" font-size="9" fill="#94a3b8">Flask + Socket.IO</text>

  <!-- Arrow SQLite â†’ Dashboard -->
  <line x1="230" y1="460" x2="290" y2="491" stroke="#06B6D4" stroke-width="1.5"
        marker-end="url(#arrowCyan)"/>

  <!-- Legend -->
  <rect x="35" y="463" width="198" height="28" rx="5" fill="#111827" opacity="0.6"/>
  <line x1="45"  y1="477" x2="68"  y2="477" stroke="#7C3AED" stroke-width="1.5"/>
  <text x="72"  y="480" font-family="monospace" font-size="8.5" fill="#94a3b8">primary data flow</text>
  <line x1="118" y1="477" x2="141" y2="477" stroke="#2563EB" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="145" y="480" font-family="monospace" font-size="8.5" fill="#94a3b8">async / cached</text>
</svg>
